// Base styles
*, *::before, *::after {
  box-sizing: inherit;
}

html {
  box-sizing: border-box;
}

body {
  height: 100%;
  color: $black;
  min-width: 320px; // Don't allow window to be sized smaller than iphone 4
  @include clearfix;
  overflow-x: hidden;
  position: relative;
  background: $gray-dark;
  @include font-paragraph;
}

/*
The background is an enormous raster image of mediocre quality.
At usable sizes, even the png has ugly scaling artifacts.
My thought was to try to blur it out with css filters.  Looks a lot better.
But you can't blur the body element--or the whole site will be blurry!
So use a seperate element.
Also the blur bleeds at the edges, so we use a slightly oversized psuedo element.
Clipping the overflow hides the bleed.
*/
.site-background {
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: -1;
  overflow: hidden;
  position: absolute;
  backface-visibility: hidden;
  
  &::before{
    content: '';
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    z-index: -1;
    margin: -20px;
    filter: blur(3px);
    position: absolute;
    background-size: cover;
    background-image: url('../images/blended-background.png'); // There is also a blended-background.jpg at ~100k
  }
  @include media-md {
    @include ruler-edge;
  }

  .big-a-s {
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    opacity: 0.3;
    position: absolute;
    background-size: 150%;
    background-repeat: repeat-y;
    background-position: 15px 0%;
    background-image:  url('../images/a-s-large.svg');
  }
}

ul.semantic-only-list {
  list-style: none;
  padding-left: 0;
}

.details-link {
  color: $gold;
  border-bottom: none;
  text-decoration: none;
  @include font-caption-bold;

  &::after {
    top: -1px;
    content: '>';
    color: $orange;
    margin-left: 1ch;
    position: relative;
  }

  &:hover {
    color: $orange;

    &::after {
      left: 3px;
    }
  }
}

p {
  em {
    font-style: italic;
  }
}

a {
  color: inherit;
}

.bigclicky {
  cursor: pointer;
}

img {
  max-width: 100%;
  height: auto;
}

// Browser alert
.alert-warning {
  top: 0;
  left: 0;
  right: 0;
  z-index: 200;
  color: $black;
  padding: 50px;
  text-align: center;
  background: $brand-primary;
}
.alert {
  padding: 50px;
  background: #fff;
}

// Disable scrolling when modals are active
.no-scroll {
  overflow: hidden;
}

// Utility classes
.hide {
  @include hidden;
}

.hide-during-page-load { // Same as hide, but init function will remove this class
  @include hidden;
}

::selection {
  // color: $cream;
  background: rgba($orange,0.5);
}

.site-wrap {
  @include media-md {
    float: left;
    width: 75%;
  }
}

// Compensate adminbar placement because we relatively positioned the body element
#wpadminbar {
    top: -$wp-admin-bar-height;
    @include min-screen($breakpoint-wp-admin-bar-fixed) {
      top: 0;
    }
}

// Graceful image loading;

.lazy {
  overflow: hidden;
  .load-mask {
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: '';
    filter: blur(20px);
    position: absolute;
    transform: scale(1.1);
    background-size: cover;
    transition: opacity 0.15s, filter 0.2s 0s, visibility 0.2s 0s;
  }
  &.-loaded {
    .load-mask {
      opacity: 0;
      visibility: hidden;
      filter: none;
    }
  }
}


.thumbnail {
  background-color: $gray;
}